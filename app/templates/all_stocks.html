<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>All Stocks</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css">
    <!-- jQuery (required for DataTables) -->
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
</head>

<body>
    <nav>
        <ul>
            <li><a href="{{ url_for('index') }}">Home</a></li>
            {% if current_user.is_authenticated %}
                <li><a href="#">{{ current_user.username }}</a></li>
                <li><a href="{{ url_for('auth.logout') }}">Logout</a></li>
            {% else %}
                <li><a href="{{ url_for('auth.login') }}">Login</a></li>
                <li><a href="{{ url_for('auth.register') }}">Register</a></li>
            {% endif %}
        </ul>
    </nav>
    <h1>All Tradable Stocks</h1>
    <table id="stocksTable" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Symbol</th>
                <th>Name</th>
                <th>Exchange</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be loaded via AJAX -->
        </tbody>
    </table>

    <script>
        $(document).ready(function () {
            $('#stocksTable').DataTable({
                "processing": true,
                "serverSide": true,
                "ajax": "/api/assets",  // Your backend API endpoint
                "pageLength": 100,  // 100 per page
                "columns": [
                    { "data": 0 },  // Symbol (clickable)
                    { "data": 1 },  // Name
                    { "data": 2 }   // Exchange
                ]
            });
        });
    </script>
<footer class="footer">
    <div class="footer-container">
        <div class="quick-links">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/all_stocks">Stocks</a></li>
            </ul>
        </div>
        <div class="social">
            <h3>Follow us on</h3>
            <ul>
                <li>
                    <a href="https://github.com/metacoder87">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li>
                    <a href="https://stackoverflow.com/users/8031257/metag">
                        <i class="fab fa-stack-overflow"></i>
                    </a>
                </li>
                <li><a href="https://www.linkedin.com/company/g-m-cubed">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div id="design-tag">
        <p>Designed & Developed by</p>
        <a href="https://gmcubedesigns.com" target="_blank">
            <img src="{{ url_for('static', filename='images/gm_cubed_neon.png') }}" alt="GM Cubed Designs Logo">
        </a>

    </div>
</footer>
</body>

</html>